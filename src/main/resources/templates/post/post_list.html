<!DOCTYPE html>
<html layout:decorate="~{layout}">
<div layout:fragment="content">
    <div class="postMainContainer">
        <div class="header postHeader">
            <div class="post-logo">
                <span>Ïª§ÎÆ§ÎãàÌã∞üìù</span>
            </div>
        </div>
        <div class="middle">
            <div class="container">
                <div class="profile-card box" th:if="${#authorization.expression('isAuthenticated()')}">
                    <!-- Profile card content for authenticated users -->
                    <div class="profile-header">
                        <div class="profile-id-box">
                            <img src="/images/none.png" alt="Your Logo" class="logo">
                            <span class="profile-id" th:text="${member.username}">Username</span>
                        </div>
                    </div>
                    <hr>
                    <div class="profile-stats">
                        <div class="stat">
                            <span>Í≤åÏãúÎ¨º</span>
                            <span th:text="${myPosts.size()}">0</span>
                        </div>
                        <div class="stat">
                            <span>ÎåìÍ∏Ä</span>
                            <span th:text="${myComments.size()}">0</span>
                        </div>
                    </div>
                    <div class="profile-footer">
                        <a th:href="@{/post/profile}">+ÌîÑÎ°úÌïÑ</a>
                    </div>
                </div>
                <div class="profile-card box" th:unless="${#authorization.expression('isAuthenticated()')}">
                    <!-- Profile card content for non-authenticated users -->
                    <div class="profile-header">
                        <div class="profile-id-box">
                        </div>
                    </div>

                    <div style="display:block;" class="profile-stats">
                        <div style="margin-left:5px; margin-top:15px; border: 1px solid black; padding:20px; border-radius: 8px;"    class="profile-footer">
                            <a th:href="@{/member/login}">Î°úÍ∑∏Ïù∏ÌïòÍ∏∞</a> <!-- Link to login page for non-authenticated users -->
                        </div>
                    </div>

                </div>
                <div class="post-category box">
                    <hr>
                    <div class="board-title">====== Í≤åÏãúÌåê ======</div>
                    <ul class="board-list">
                        <li class="board-item">
                            <span class="icon">üìã</span>
                            <a class="text" th:href="@{/post/list}">Ï†ÑÏ≤¥ Í≤åÏãúÌåê</a>
                        </li>
                        <li class="board-item">
                            <span class="icon">‚ùó</span>
                            <a class="text" th:href="@{/post/list?boardType=Í≥µÏßÄ}">Í≥µÏßÄ Í≤åÏãúÌåê</a>
                        </li>
                        <li class="board-item">
                            <span class="icon">‚úÇÔ∏è</span>
                            <a class="text" th:href="@{/post/list?boardType=ÏûêÏú†}">ÏûêÏú† Í≤åÏãúÌåê</a>
                        </li>
                        <li class="board-item">
                            <span class="icon">üë§Ô∏è</span>
                            <a class="text" th:href="@{/post/list?boardType=ÏπúÎ™©}">ÏπúÎ™© Í≤åÏãúÌåê</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="container">
                <!-- Í≥µÏßÄÏÇ¨Ìï≠ ÏÑπÏÖò -->
                <div class="notice-box box">
                    <div class="notice-header">
                        <span>Í≥µÏßÄÏÇ¨Ìï≠</span>
                    </div>
                    <div class="notice-body">
                        <div class="post-item" th:each="post, loop : ${notices}">
                            <div class="notice-item">
                                <span>Í≥µÏßÄ</span>
                            </div>
                            <div class="post-title">
                                <a th:text="${post.title}" th:href="@{|/post/detail/${post.id}|}"></a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ÏùºÎ∞ò Í≤åÏãúÍ∏Ä ÏÑπÏÖò -->
                <div class="category-box box">
                    <span>Í≤åÏãúÌåê</span>
                    <span>Ï†úÎ™©</span>
                    <span>ÏûëÏÑ±Ïûê</span>
                    <span>ÏûëÏÑ±Ïùº</span>
                    <span>Ï°∞Ìöå</span>
                </div>
                <div class="postList-box box">
                    <div class="postbox-body">
                        <div th:each="post, loop : ${paging.content}">
                            <div class="post-item">
                            <span>
                                <a th:text="${post.boardType}" th:href="@{|/post/detail/${post.id}|}"></a>
                            </span>
                                <div class="post-title">
                                    <a th:text="${post.title}" th:href="@{|/post/detail/${post.id}|}"></a>
                                    <div class="comment-count"
                                         th:if="${#lists.size(post.postCommentList) > 0}"
                                         th:text="' (' + ${#lists.size(post.postCommentList)} + ')'"></div>
                                </div>
                                <div class="post-writer">
                                    <a th:text="${post.author.nickname}" th:href="@{|/post/detail/${post.id}|}"></a>
                                </div>
                                <div class="post-createDate">
                                    <a th:text="${#temporals.format(post.createDate, 'yyyy-MM-dd')}" th:href="@{|/post/detail/${post.id}|}"></a>
                                </div>
                                <div class="post-hit">
                                    <a th:text="${post.view}" th:href="@{|/post/detail/${post.id}|}"></a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="postList-footer">
                        <div class="paging">
                            <!-- ÌéòÏù¥ÏßïÏ≤òÎ¶¨ ÏãúÏûë -->
                            <div th:if="${!paging.isEmpty()}">
                                <ul class="pagination justify-content-center">
                                    <!-- Ï†úÏùº Ï≤òÏùå ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô -->
                                    <li class="page-item" th:classappend="${paging.number == 0} ? 'disabled'">
                                        <a class="page-link" th:if="${paging.number > 0}"
                                           th:href="@{|/post/list?page=0${boardType != null ? '&boardType=' + boardType : ''}|}">
                                            <span>Ï≤òÏùå</span>
                                        </a>
                                        <a class="page-link" th:if="${paging.number == 0}">
                                            <span>Ï≤òÏùå</span>
                                        </a>
                                    </li>
                                    <!-- Ïù¥Ï†Ñ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô -->
                                    <li class="page-item" th:classappend="${!paging.hasPrevious} ? 'disabled'">
                                        <a class="page-link" th:if="${paging.hasPrevious}"
                                           th:href="@{|/post/list?page=${paging.number - 1}${boardType != null ? '&boardType=' + boardType : ''}|}">
                                            <span>&lt;</span>
                                        </a>
                                    </li>
                                    <!-- ÌéòÏù¥ÏßÄ Î≤àÌò∏ Î™©Î°ù -->
                                    <li th:each="page: ${#numbers.sequence(0, paging.totalPages - 1)}"
                                        th:if="${page >= (paging.number / 10).intValue() * 10 and page < (paging.number / 10).intValue() * 10 + 10}"
                                        th:classappend="${page == paging.number} ? 'active' : ''" class="page-item">
                                        <a th:text="${page + 1}"
                                           class="page-link"
                                           th:href="@{|/post/list?page=${page}${boardType != null ? '&boardType=' + boardType : ''}|}"></a>
                                    </li>
                                    <!-- Îã§Ïùå ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô -->
                                    <li class="page-item" th:classappend="${!paging.hasNext} ? 'disabled'">
                                        <a class="page-link" th:if="${paging.hasNext}"
                                           th:href="@{|/post/list?page=${paging.number + 1}${boardType != null ? '&boardType=' + boardType : ''}|}">
                                            <span>&gt;</span>
                                        </a>
                                    </li>
                                    <!-- Ï†úÏùº ÎßàÏßÄÎßâ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô -->
                                    <li class="page-item" th:classappend="${paging.number == paging.totalPages - 1} ? 'disabled'">
                                        <a class="page-link" th:if="${paging.number < paging.totalPages - 1}"
                                           th:href="@{|/post/list?page=${paging.totalPages - 1}${boardType != null ? '&boardType=' + boardType : ''}|}">
                                            <span>ÎßàÏßÄÎßâ</span>
                                        </a>
                                        <a class="page-link" th:if="${paging.number == paging.totalPages - 1}">
                                            <span>ÎßàÏßÄÎßâ</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <!-- ÌéòÏù¥ÏßïÏ≤òÎ¶¨ ÎÅù -->
                            <div th:if="${paging.isEmpty()}">
                                <div class="alert alert-warning" role="alert">
                                    Ìï¥Îãπ ÌéòÏù¥ÏßÄÏóêÎäî Í≤åÏãúÍ∏ÄÏù¥ ÏóÜÏäµÎãàÎã§.
                                </div>
                            </div>
                        </div>


                    </div>
                    <div class="postList-footer2">
                        <button onclick="location.href='/post/write'" class="postWriteButton">Í∏Ä ÏûëÏÑ±ÌïòÍ∏∞</button>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="box">
                    <div id="clock" class="clock1"></div>
                </div>
                <div class="todayHotPost-box box">
                    <div class="todayHotPost-header">
                        <span>Ïò§ÎäòÏùò TOP10</span>
                    </div>
                    <div class="todayHotPost-body">
                        <div class="todayHotPost-item" th:each="post, iterStat : ${topPosts}">
                            <span th:text="${iterStat.count}"></span>
                            <a class="todayHotPost-title" th:text="${post.title}" th:href="@{|/post/detail/${post.id}|}"></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

</div>

</html>
<script>
    function updateClock() {
        const now = new Date();
        const hours = String(now.getHours()).padStart(2, "0");
        const minutes = String(now.getMinutes()).padStart(2, "0");
        const seconds = String(now.getSeconds()).padStart(2, "0");
        const timeString = `${hours}:${minutes}:${seconds}`;
        document.getElementById("clock").textContent = timeString;
    }

    setInterval(updateClock, 1000);
    updateClock(); // initial call to display the clock immediately
</script>
