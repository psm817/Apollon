<!DOCTYPE html>
<html layout:decorate="~{layout}">
<div layout:fragment="content">
    <div class="postMainContainer profileMainContainer">

        <div class="header postHeader">
            <div class="post-logo">
                <span>ì»¤ë®¤ë‹ˆí‹° í™œë™ í˜„í™©ğŸ“</span>
            </div>
        </div>

        <div class="middle">
            <div class="container profileContainer">
                <div class="profile-card box">
                    <div class="profile-header">
                        <div class="profile-id-box">
                            <img src="/images/none.png" alt="Your Logo" class="logo">
                            <span class="profile-id" th:text="${member.username}">Username</span>
                        </div>
                    </div>
                    <hr>
                    <div class="profile-stats">
                        <div class="stat">
                            <span>ê²Œì‹œë¬¼</span>
                            <span th:text="${myPosts.size()}">0</span>
                        </div>
                        <div class="stat">
                            <span>ëŒ“ê¸€</span>
                            <span th:text="${myComments.size()}">0</span>
                        </div>
                    </div>
                    <div class="profile-footer">
                        <a th:href="@{/post/profile}">+í”„ë¡œí•„</a>
                    </div>
                </div>
            </div>
            <div class="container profileContainer">
                <div class="profile-content">
                    <button id="postsButton" data-section="posts" onclick="showPosts()">ê²Œì‹œê¸€</button>
                    <span th:text="${myPosts.size()}">0</span>
                    <button id="commentsButton" data-section="comments" onclick="showComments()">ëŒ“ê¸€</button>
                    <span th:text="${myComments.size()}">0</span>

                    <div class="profileCategory-box box">
                        <span id="categoryLabel">ê²Œì‹œíŒ</span>
                        <span class="title-header">ì œëª©</span>
                        <span class="title-header2">ì‘ì„±ì</span>
                        <span>ì‘ì„±ì¼</span>
                        <span>ì¡°íšŒ</span>
                    </div>
                    <hr>
                    <div id="posts">
                        <ul>
                            <li th:each="myPosts : ${myPosts}">
                                <a th:href="@{'/post/detail/' + ${myPosts.id}}" th:text="${myPosts.boardType}">Post Title</a>
                                <a th:href="@{'/post/detail/' + ${myPosts.id}}" th:text="${myPosts.title}">Post Title</a>
                                <a th:href="@{'/post/detail/' + ${myPosts.id}}" th:text="${member.username}">Post Title</a>
                                <a th:href="@{'/post/detail/' + ${myPosts.id}}" th:text="${#temporals.format(myPosts.createDate, 'yyyy-MM-dd')}">Post Title</a>
                                <a th:href="@{'/post/detail/' + ${myPosts.id}}" th:text="${myPosts.view}">Post Title</a>
                            </li>
                        </ul>
                    </div>
                    <div id="comments" style="display: none;">
                        <ul>
                            <li th:each="myComments : ${myComments}">
                                <a th:href="@{'/post/detail/' + ${myComments.post.id}}" th:text="${myComments.post.title}"> </a>
                                <a th:href="@{'/post/detail/' + ${myComments.post.id}}" th:text="${myComments.post.author.nickname}"></a>
                                <a th:href="@{'/post/detail/' + ${myComments.post.id}}" th:text="${myComments.content}"></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
</html>
<script th:inline="javascript">
    function showPosts() {
    document.getElementById('posts').style.display = 'block';
    document.getElementById('comments').style.display = 'none';
    document.getElementById('postsButton').classList.add('active');
    document.getElementById('commentsButton').classList.remove('active');
    document.getElementById('categoryLabel').textContent = 'ê²Œì‹œíŒ';
    document.querySelector('.title-header').textContent = 'ì œëª©';
    document.querySelector('.title-header2').textContent = 'ì‘ì„±ì';

    // ê²Œì‹œíŒ í•­ëª©ì˜ ë‚ ì§œì™€ ì¡°íšŒìˆ˜ë¥¼ ë³´ì´ê¸°
    var categoryItems = document.querySelectorAll('.profileCategory-box span:nth-child(4), .profileCategory-box span:nth-child(5)');
    categoryItems.forEach(function(item) {
        item.style.display = 'inline'; // í˜¹ì€ ì›ë˜ì˜ display ì†ì„± ê°’ìœ¼ë¡œ ë³µì›
    });
}

function showComments() {
    document.getElementById('posts').style.display = 'none';
    document.getElementById('comments').style.display = 'block';
    document.getElementById('postsButton').classList.remove('active');
    document.getElementById('commentsButton').classList.add('active');
    document.getElementById('categoryLabel').textContent = 'ì œëª©';
    document.querySelector('.title-header').textContent = 'ì‘ì„±ì';
    document.querySelector('.title-header2').textContent = 'ë‚˜ì˜ëŒ“ê¸€';

    // ëŒ“ê¸€ í•­ëª©ì˜ ë‚ ì§œì™€ ì¡°íšŒìˆ˜ë¥¼ ìˆ¨ê¸°ê¸°
    var categoryItems = document.querySelectorAll('.profileCategory-box span:nth-child(4), .profileCategory-box span:nth-child(5)');
    categoryItems.forEach(function(item) {
        item.style.display = 'none';
    });
}

</script>
