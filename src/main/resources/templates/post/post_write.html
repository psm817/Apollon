<html layout:decorate="~{layout}">
<div layout:fragment="content">
    <div class="postMainContainer">

    <div class="header postHeader">
        <div class="post-logo">
            <span>ê¸€ ì‘ì„±í•˜ê¸°âœï¸</span>
        </div>
    </div>
    <div class="middle">
        <div class="container">
            <div class="profile-card box">
                <div class="profile-header">
                    <div class="profile-id-box">
                        <img src="/images/none.png" alt="Your Logo" class="logo">
                        <span class="profile-id" th:text="${member.username}">Username</span>
                    </div>
                </div>
                <hr>
                <div class="profile-stats">
                    <div class="stat">
                        <span>ê²Œì‹œë¬¼</span>
                        <span th:text="${myPosts.size()}">0</span>
                    </div>
                    <div class="stat">
                        <span>ëŒ“ê¸€</span>
                        <span th:text="${myComments.size()}">0</span>
                    </div>
                </div>
                <div class="profile-footer">
                    <a th:href="@{/post/profile}">+í”„ë¡œí•„</a>
                </div>
            </div>
            <div class="post-category box">
                <hr>
                <div class="board-title">====== ê²Œì‹œíŒ ======</div>
                <ul class="board-list">
                    <li class="board-item">
                        <span class="icon">ğŸ“‹</span>
                        <a class="text" th:href="@{/post/list}">ì „ì²´ ê²Œì‹œíŒ</a>
                    </li>
                    <li class="board-item">
                        <span class="icon">â—</span>
                        <a class="text" th:href="@{/post/list?boardType=ê³µì§€}">ê³µì§€ ê²Œì‹œíŒ</a>
                    </li>
                    <li class="board-item">
                        <span class="icon">âœ‚ï¸</span>
                        <a class="text" th:href="@{/post/list?boardType=ììœ }">ììœ  ê²Œì‹œíŒ</a>
                    </li>
                    <li class="board-item">
                        <span class="icon">ğŸ‘¤ï¸</span>
                        <a class="text" th:href="@{/post/list?boardType=ì¹œëª©}">ì¹œëª© ê²Œì‹œíŒ</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="container">


            <div class="postWrite-box box writeBox">
                <form id="postForm" action="/post/write" method="post" onsubmit="return checkBoardType();">
                    <input type="hidden" id="userId" name="userId" value="testID"> <!-- This should be dynamically set to the logged-in user's ID -->
                    <div class="board-type box writeBox">
                        <div class="Board-type-1">
                            <label for="boardType">Board Type:</label>
                            <select id="boardType" name="boardType">
                                <div th:if="${#authorization.expression('isAuthenticated()') and #authentication.principal.username == 'admin'}">
                                    <option value="ê³µì§€">ê³µì§€ ê²Œì‹œíŒ</option>
                                </div>

                                <option value="ììœ ">ììœ  ê²Œì‹œíŒ</option>
                                <option value="ì¹œëª©">ì¹œëª© ê²Œì‹œíŒ</option>
                            </select>
                        </div>
                    </div>

                <div class="postWrite-body">


                        <div>
                            <label for="title">ì œëª©:</label>
                            <input type="text" id="title" name="title" required>
                        </div>
                        <div>
                            <label for="content">ë‚´ìš©:</label>
                            <textarea id="content" name="content" required></textarea>
                        </div>
                        <div>
                            <button type="submit">ì‘ì„±ì™„ë£Œ</button>
                        </div>


                </div>
                </form>
                <div class="postWrite-footer">
                    <div class="postButton-box">
                        <div>
                            <button type="submit" class="postListButton" onclick="location.href='/post/list'">ëª©ë¡</button>
                        </div>
                        <div>
                            <button type="submit" class="cancelButton" onclick="location.href='/post/list'">ì·¨ì†Œ</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="container">
            <div class="box">
                <div id="clock" class="clock1"></div>
            </div>
            <div class="todayHotPost-box box">
                <div class="todayHotPost-header">
                    <span>ì˜¤ëŠ˜ì˜ TOP10</span>
                </div>
                <div class="todayHotPost-body">
                    <div class="todayHotPost-item" th:each="post, iterStat : ${topPosts}" th:if="${post.view > 0}">
                        <span th:text="${iterStat.count}"></span>
                        <a class="todayHotPost-title" th:text="${post.title}" th:href="@{|/post/detail/${post.id}|}"></a>
                    </div>
                </div>
            </div>
        </div>
    </div>







    </div>
</div>
</html>

<script>
    function updateClock() {
        const now = new Date();
        const hours = String(now.getHours()).padStart(2, "0");
        const minutes = String(now.getMinutes()).padStart(2, "0");
        const seconds = String(now.getSeconds()).padStart(2, "0");
        const timeString = `${hours}:${minutes}:${seconds}`;
        document.getElementById("clock").textContent = timeString;
    }

    setInterval(updateClock, 1000);
    updateClock(); // initial call to display the clock immediately



</script>