<html layout:decorate="~{layout}">
  <div layout:fragment="content">
    <div class="upload_sec">
      <div class="welcome-box">
        <span th:text="'ìŒì•… ì •ë³´ ìˆ˜ì •ì„ ì§„í–‰ì¤‘ì…ë‹ˆë‹¤... ğŸ¼'"></span>
      </div>
      <div class="upload_form_container">
        <form th:action th:object="${uploadForm}" method="post" enctype="multipart/form-data" onsubmit="return validateForm()">
          <div class="musicTitle_sec">
            <span>ìŒì•… ì œëª©</span>
            <input id="title" type="text" name="title" required disabled th:placeholder="${music.musicTitle}">
          </div>

          <div class="musicContent_sec">
            <div class="title">
              <span class="bold">ìŒì•… ì„¤ëª…</span>
              <span class="detail-title">(â€» ì—…ë¡œë“œí•  ìŒì•…ì— ëŒ€í•œ ì„¤ëª… ì‘ì„±)</span>
            </div>
            <textarea id="content" name="content" rows="10" required></textarea>
          </div>

          <div class="musicThumbnail_sec">
            <span>ì¸ë„¤ì¼ ì´ë¯¸ì§€</span>
            <input type="file" id="thumbnail" name="thumbnail" accept="image/png" required>
          </div>

          <div class="musicFile_sec">
            <span>ìŒì•… ì—…ë¡œë“œ</span>
            <input type="file" id="musicFile" name="musicFile" accept="audio/mp3" required disabled th:placeholder="${music.musicMp3FullPath}">
          </div>

          <div class="musicGenre_sec">
            <div class="title">
              <span>ìŒì•… ì¥ë¥´ ì„ íƒ</span>
              <span class="detail-title">(â€» ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥ / 'ê·¸ ì™¸' í•­ëª©ì€ í•„ìˆ˜ ì„ íƒ)</span>
            </div>
            <div id="genresId">
              <label><input type="checkbox" name="genres" value="Ballad"> ë°œë¼ë“œ</label>
              <label><input type="checkbox" name="genres" value="Dance"> ëŒ„ìŠ¤</label>
              <label><input type="checkbox" name="genres" value="Rap/HipHop"> ë©/í™í•©</label>
              <label><input type="checkbox" name="genres" value="R&B/Soul"> R&B/Soul</label>
              <label><input type="checkbox" name="genres" value="Rock/Metal"> ë¡/ë©”íƒˆ</label>
              <label><input type="checkbox" name="genres" value="Electronica"> ì¼ë ‰íŠ¸ë¡œë‹ˆì¹´</label>
              <label><input type="checkbox" name="genres" value="OST"> OST</label>
              <label><input type="checkbox" name="genres" value="JPOP"> JPOP</label>
              <label><input type="checkbox" name="genres" value="indie"> ì¸ë””ìŒì•…</label>
              <label><input type="checkbox" name="genres" value="etc" required> ê·¸ ì™¸</label>
            </div>
          </div>
          <div class="btn-box">
            <button type="button" onclick="if(confirm('ìŒì•… ì •ë³´ ìˆ˜ì •ì„ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) { history.back(); }">ì·¨ì†Œ</button>
            <button type="submit">ìˆ˜ì •</button>
          </div>
        </form>
      </div>
    </div>
  </div>

<script>
  function validateForm() {
    var thumbnail = document.getElementById("thumbnail").value;
    var musicFile = document.getElementById("musicFile").value;
    
    if (thumbnail.trim() == '') {
      alert("ì¸ë„¤ì¼ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ì„¸ìš”.");
      document.getElementById("thumbnail").focus();
      return false;
    } else if (musicFile.trim() == '') {
      alert("ìŒì•… íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”.");
      document.getElementById("musicFile").focus();
      return false;
    }
    
    return true;
  }
</script>

</html>